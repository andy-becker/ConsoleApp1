This did not get as far as I wished before time was up, but I am certain
that is a common story.

Failures:

1. I could not get the search API to accept spaces. I moved on.

2. The locking is not right - I get duplicates after a random number of tries
   with hair_color, for example. If we meet in person I would love to know
   the root cause, as it would explain some past difficulties. As near as I
   can tell what I did should work, and yet, clearly does not.